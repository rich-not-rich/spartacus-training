'use strict';
Object.defineProperty(exports, '__esModule', { value: true });
const schematics_1 = require('@angular-devkit/schematics');
const package_utils_1 = require('../../shared/utils/package-utils');
function validate() {
  return (tree, _context) => {
    const angularVersion = package_utils_1.getAngularVersion(tree);
    validateAngularVersion(angularVersion);
    return tree;
  };
}
exports.validate = validate;
function validateAngularVersion(angularVersion) {
  const majorVersion = package_utils_1.getMajorVersionNumber(angularVersion);
  if (majorVersion < 9) {
    throw new schematics_1.SchematicsException(`Spartacus requires angular version 9.
Please reset your git repo, re-install node_modules and run 'ng update @angular/cli @angular/core' before upgrading Spartacus.`);
  }
}
exports.validateAngularVersion = validateAngularVersion;
//# sourceMappingURL=validate.js.map
